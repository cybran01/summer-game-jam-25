[gd_scene load_steps=67 format=3 uid="uid://5o0ka2vrc1u"]

[ext_resource type="Script" uid="uid://dhhihsrul12yx" path="res://scripts/player.gd" id="1_6062o"]
[ext_resource type="Texture2D" uid="uid://b4us8dcwuqtr0" path="res://animations/anim_Spritesheet_01.png" id="2_oac26"]
[ext_resource type="Script" uid="uid://boilyalvtioas" path="res://scripts/player_animsprite.gd" id="3_ua8fg"]
[ext_resource type="Script" uid="uid://dirwdbwpq007q" path="res://scripts/fsm/state_machine.gd" id="6_3p2px"]
[ext_resource type="Script" uid="uid://vnyrwl7dhtdk" path="res://scripts/fsm/states/attack.gd" id="7_oac26"]
[ext_resource type="Script" uid="uid://cgstr6ytpbfnw" path="res://scripts/fsm/states/death.gd" id="8_vy07h"]
[ext_resource type="Script" uid="uid://dvqjs37qap8cd" path="res://scripts/fsm/states/fail.gd" id="9_rgxth"]
[ext_resource type="Script" uid="uid://l2177al2td5i" path="res://scripts/fsm/states/feint.gd" id="10_g2667"]
[ext_resource type="Script" uid="uid://deamystrrxll1" path="res://scripts/fsm/states/idle.gd" id="11_jfxrp"]
[ext_resource type="Script" uid="uid://vwqpekh11yll" path="res://scripts/fsm/states/parry.gd" id="12_673bu"]
[ext_resource type="Script" uid="uid://re3aeu1hvoie" path="res://scripts/fsm/states/success.gd" id="13_4p6fq"]
[ext_resource type="Script" uid="uid://35ekas4eluuw" path="res://scripts/fsm/states/death_parry.gd" id="13_oac26"]
[ext_resource type="Script" uid="uid://7i0d4y0be7x6" path="res://scripts/fsm/states/victory.gd" id="14_gimd8"]
[ext_resource type="Script" uid="uid://1nd8odk2sdau" path="res://scripts/fsm/states/fail_parry.gd" id="14_vy07h"]
[ext_resource type="Script" uid="uid://bvydpu5q3jjam" path="res://scripts/fsm/states/success_parry.gd" id="15_rgxth"]
[ext_resource type="Script" uid="uid://ckr1j86rcn3ns" path="res://scripts/fsm/states/victory_parry.gd" id="16_g2667"]

[sub_resource type="AtlasTexture" id="AtlasTexture_vy07h"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_rgxth"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_g2667"]
atlas = ExtResource("2_oac26")
region = Rect2(2048, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_jfxrp"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_673bu"]
atlas = ExtResource("2_oac26")
region = Rect2(4096, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_4p6fq"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_gimd8"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_mpoa8"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_bi3dt"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 2048, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_oac26"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_rha5u"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_mxf72"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_o2xqd"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_ah415"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 2048, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_ha772"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_rron2"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_e7btb"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 5120, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_lhjej"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_t0ttq"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_kqcyn"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 2048, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_hvihl"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 2048, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_4jc78"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_p1ugy"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 4096, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4nqb"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 4096, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_x4uom"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_475jc"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_fnr68"]
atlas = ExtResource("2_oac26")
region = Rect2(2048, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_sf4pf"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_wn11i"]
atlas = ExtResource("2_oac26")
region = Rect2(4096, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ne8e"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_l22s4"]
atlas = ExtResource("2_oac26")
region = Rect2(4096, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_0un1k"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_fvuuj"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_rsorp"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_vl1qp"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_031hw"]
atlas = ExtResource("2_oac26")
region = Rect2(2048, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_h3hyx"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_f6ogl"]
atlas = ExtResource("2_oac26")
region = Rect2(4096, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_l14fk"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_lfr34"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_tgjwt"]
atlas = ExtResource("2_oac26")
region = Rect2(4096, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_m0o1s"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_0l8qs"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 4096, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_cx12g"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_cm0sd"]
atlas = ExtResource("2_oac26")
region = Rect2(1024, 2048, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_a1pyu"]
atlas = ExtResource("2_oac26")
region = Rect2(3072, 3072, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_angsn"]
atlas = ExtResource("2_oac26")
region = Rect2(4096, 0, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_5a6ns"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_h36ti"]
atlas = ExtResource("2_oac26")
region = Rect2(0, 4096, 1024, 1024)

[sub_resource type="SpriteFrames" id="SpriteFrames_f84kq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vy07h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rgxth")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g2667")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jfxrp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_673bu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4p6fq")
}],
"loop": false,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gimd8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mpoa8")
}],
"loop": false,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bi3dt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oac26")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rha5u")
}],
"loop": false,
"name": &"death_parry",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mxf72")
}, {
"duration": 1.0,
"texture": null
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o2xqd")
}, {
"duration": 1.0,
"texture": null
}],
"loop": false,
"name": &"fail",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ah415")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ha772")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rron2")
}, {
"duration": 1.0,
"texture": null
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e7btb")
}, {
"duration": 1.0,
"texture": null
}],
"loop": false,
"name": &"fail_parry",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lhjej")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t0ttq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kqcyn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hvihl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4jc78")
}],
"loop": false,
"name": &"feint",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p1ugy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4nqb")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_x4uom")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_475jc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fnr68")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sf4pf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wn11i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ne8e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l22s4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0un1k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fvuuj")
}],
"loop": false,
"name": &"parry",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rsorp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vl1qp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_031hw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h3hyx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f6ogl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l14fk")
}],
"loop": false,
"name": &"success_parry",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lfr34")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tgjwt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m0o1s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0l8qs")
}],
"loop": false,
"name": &"victory",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cx12g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cm0sd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a1pyu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_angsn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5a6ns")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h36ti")
}],
"loop": false,
"name": &"victory_parry",
"speed": 5.0
}]

[node name="Player1" type="Node2D"]
script = ExtResource("1_6062o")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_f84kq")
animation = &"victory"
script = ExtResource("3_ua8fg")

[node name="state_machine" type="Node" parent="." node_paths=PackedStringArray("starting_state")]
script = ExtResource("6_3p2px")
starting_state = NodePath("idle")

[node name="attack" type="Node" parent="state_machine"]
script = ExtResource("7_oac26")

[node name="death" type="Node" parent="state_machine"]
script = ExtResource("8_vy07h")

[node name="fail" type="Node" parent="state_machine"]
script = ExtResource("9_rgxth")

[node name="feint" type="Node" parent="state_machine"]
script = ExtResource("10_g2667")

[node name="idle" type="Node" parent="state_machine"]
script = ExtResource("11_jfxrp")
attack_name = "attack_player_1"
feint_name = "feint_player_1"
parry_name = "parry_player_1"

[node name="parry" type="Node" parent="state_machine"]
script = ExtResource("12_673bu")

[node name="success" type="Node" parent="state_machine"]
script = ExtResource("13_4p6fq")

[node name="victory" type="Node" parent="state_machine"]
script = ExtResource("14_gimd8")

[node name="death_parry" type="Node" parent="state_machine"]
script = ExtResource("13_oac26")

[node name="fail_parry" type="Node" parent="state_machine"]
script = ExtResource("14_vy07h")

[node name="success_parry" type="Node" parent="state_machine"]
script = ExtResource("15_rgxth")

[node name="victory_parry" type="Node" parent="state_machine"]
script = ExtResource("16_g2667")

[connection signal="animation_changed" from="AnimatedSprite2D" to="AnimatedSprite2D" method="_on_animation_changed"]
[connection signal="animation_finished" from="AnimatedSprite2D" to="state_machine" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="frame_changed" from="AnimatedSprite2D" to="AnimatedSprite2D" method="_on_frame_changed"]
[connection signal="frame_changed" from="AnimatedSprite2D" to="state_machine/attack" method="_on_animated_sprite_2d_frame_changed"]
